jQuery.fn.acalogWidgetize=function(a){var e=this;return new AcalogWidgetAPI(e,a,function(a){e.each(function(){a.widgetize(jQuery(this))})}),this};var AcalogWidgetAPI=function(a){"use strict";var e=function(){function e(a){try{(a=JSON.parse(a)).program_display=Boolean(a.program_display),a.course_display=Boolean(a.course_display),a.program_show_only_active_visible=Boolean(a.program_show_only_active),a.searchable=Boolean(a.searchable),a.program_grouping=2===a.program_grouping?"degree-type":1===a.program_grouping?"type":"none",a.course_grouping=1===a.course_grouping?"type":"none"}catch(e){(a={}).program_display=!1,a.course_display=!1,a.program_show_only_active_visible=!0,a.searchable=!1,a.program_grouping="none",a.course_grouping="none"}return a}function r(a,e){var t={left:[],right:[],before:[],after:[]};if(e.length)for(var o=0;o<e.length;o++){var r=e[o];a===r["course-id"]&&("left"===r.placement?t.left.push(r):"right"===r.placement?t.right.push(r):"before"===r.placement?t.before.push(r):"after"===r.placement&&t.after.push(r))}return t}function l(a,e){for(var t=[],o={},r="",l=0;l<a.length;l++){var i=a[l];if(!(e.program_show_only_active_visible&&!1===i.status.visible||!1===i.status.active))if(i.program_types.length)for(var g=0;g<i.program_types.length;g++)(r=i.program_types[g].name)in o?o[r].push(i):o[r]=[i];else(r="Other Programs")in o?o[r].push(i):o[r]=[i]}var n=Object.keys(o).sort();n.indexOf("Other Programs")>-1&&n.splice(n.length,0,n.splice(n.indexOf("Other Programs"),1)[0]);for(var c=0;c<n.length;c++)t.push({type:n[c],programs:o[n[c]]});return t}function i(a,e){for(var t=[],o={},r="",l=0;l<a.length;l++){var i=a[l];if(!(e.program_show_only_active_visible&&!1===i.status.visible||!1===i.status.active))if(i.degree_types.length)for(var g=0;g<i.degree_types.length;g++)(r=i.degree_types[g].name)in o?o[r].push(i):o[r]=[i];else(r="Other Programs")in o?o[r].push(i):o[r]=[i]}var n=Object.keys(o).sort();n.indexOf("Other Programs")>-1&&n.splice(n.length,0,n.splice(n.indexOf("Other Programs"),1)[0]);for(var c=0;c<n.length;c++)t.push({type:n[c],programs:o[n[c]]});return t}function g(a,e){for(var t=[],o=0;o<a.length;o++){var r=a[o];e.program_show_only_active_visible&&!1===r.status.visible||!1===r.status.active||t.push(r)}return t}function n(a,e){var t="";return t+='<h1 class="acalog-catalog-name">'+a.name+"</h1>",t+='<div class="acalog-catalog-description">'+a.description+"</div>",t+='<a href="#" class="acalog-close">Close</a>'}function c(a,e){var t="";return t+='<h1 class="acalog-course-title">'+a.title+"</h1>",a.body?t+='<div class="acalog-course-body">'+a.body+"</div>":(a.api="/"+a.url.split("/").slice(3).join("/"),t+='<div class="acalog-course-body" data-acalog-ajax="'+a.api+'" data-acalog-ajax-type="course-body">'+e.placeholder+"</div>"),t+='<a href="#" class="acalog-close">Close</a>'}function s(a,e){var t="";return t+='<h1 class="acalog-program-name">'+a.name+"</h1>",a.hasOwnProperty("description")?t+='<div class="acalog-program-description">'+a.description+"</div>":(a.api="/"+a.url.split("/").slice(3).join("/"),t+='<div class="acalog-program-description" data-acalog-ajax="'+a.api+'" data-acalog-ajax-type="program">'+e.placeholder+"</div>"),a.hasOwnProperty("cores")?t+='<div class="acalog-program-cores">'+p(a.cores,2,e)+"</div>":(a.api="/"+a.url.split("/").slice(3).join("/"),t+='<div class="acalog-program-cores" data-acalog-ajax="'+a.api+'" data-acalog-ajax-type="cores">'+e.placeholder+"</div>"),t+='<a href="#" class="acalog-close">Close</a>'}function p(a,e,t){for(var o="",l=e>6?6:e,i=6===l?6:l+1,g=0;g<a.length;g++){var n=a[g];if(o+='<div class="acalog-program-core">',o+="<h"+l+' class="acalog-program-core-name">'+n.name+"</h"+l+">",n.description.length&&(o+='<div class="acalog-program-core-description">'+n.description+"</div>"),n.courses.length){o+='<ul class="acalog-program-core-courses">';for(var c=0;c<n.courses.length;c++){var s=n.courses[c];s.gateway=t.gateway+v("course",t.gatewayCatalogId,s["legacy-id"]),s.api="/"+s.url.split("/").slice(3).join("/"),s.adhocs=r(s.id,n.adhocs);for(var d=0;d<s.adhocs.before.length;d++){o+=s.adhocs.before[d].display}o+='<li class="acalog-program-core-course">';for(var y=0;y<s.adhocs.left.length;y++){o+=s.adhocs.left[y].display+" "}o+='<a class="acalog-program-core-course-link" href="'+s.gateway+'">'+s.title+"</a>";for(var u=0;u<s.adhocs.right.length;u++){o+=" "+s.adhocs.right[u].display}o+='<div class="acalog-program-core-course-container">',o+="<h"+i+' class="acalog-program-core-course-title">'+s.title+"</h"+i+">",o+='<div class="acalog-program-core-course-body" data-acalog-ajax="'+s.api+'" data-acalog-ajax-type="course-body">'+t.placeholder+"</div>",o+='<a href="#" class="acalog-close">Close</a>',o+="</div>",o+="</li>";for(var m=0;m<s.adhocs.after.length;m++){o+=s.adhocs.after[m].display}}o+="</ul>"}n.children.length&&(o+='<div class="acalog-program-cores">'+p(n.children,e+1,t)+"</div>"),o+="</div>"}return o}function d(a,e,t){var o,r="";if("type"===e.program_grouping){var n=l(a,e);if(n.length){r+="<h2>Programs</h2>";for(var c=0;c<n.length;c++){r+="<h3>"+n[c].type+"</h3>",r+="<ul>";for(var s=0;s<n[c].programs.length;s++)(o=n[c].programs[s]).gateway=t.gateway+v("program",t.gatewayCatalogId,o["legacy-id"]),r+='<li class="acalog-program">',r+='<a class="acalog-program-link" href="'+o.gateway+'">'+o.name+"</a>",o.api="/"+o.url.split("/").slice(3).join("/"),r+='<div class="acalog-program-container" data-acalog-ajax="'+o.api+'" data-acalog-ajax-type="program">',r+=t.placeholder,r+="</div>",r+="</li>";r+="</ul>"}}}else if("degree-type"===e.program_grouping){var p=i(a,e);if(p.length){r+="<h2>Programs</h2>";for(var d=0;d<p.length;d++){r+="<h3>"+p[d].type+"</h3>",r+="<ul>";for(var y=0;y<p[d].programs.length;y++)(o=p[d].programs[y]).gateway=t.gateway+v("program",t.gatewayCatalogId,o["legacy-id"]),r+='<li class="acalog-program">',r+='<a class="acalog-program-link" href="'+o.gateway+'">'+o.name+"</a>",o.api="/"+o.url.split("/").slice(3).join("/"),r+='<div class="acalog-program-container" data-acalog-ajax="'+o.api+'" data-acalog-ajax-type="program">',r+=t.placeholder,r+="</div>",r+="</li>";r+="</ul>"}}}else{var u=g(a,e);if(u.length){r+="<h2>Programs</h2>",r+="<ul>";for(var m=0;m<u.length;m++)(o=u[m]).gateway=t.gateway+v("program",t.gatewayCatalogId,o["legacy-id"]),r+='<li class="acalog-program">',r+='<a class="acalog-program-link" href="'+o.gateway+'">'+o.name+"</a>",o.api="/"+o.url.split("/").slice(3).join("/"),r+='<div class="acalog-program-container" data-acalog-ajax="'+o.api+'" data-acalog-ajax-type="program">',r+=t.placeholder,r+="</div>",r+="</li>";r+="</ul>"}}return r}function y(a,e,t){var o,r="";if(a.length)if("type"===e.course_grouping){var l=function(a){for(var e=[],t={},o="",r=0;r<a.length;r++){var l=a[r];if(!1!==l.status.active)if(l.course_types.length)for(var i=0;i<l.course_types.length;i++)(o=l.course_types[i].name)in t?t[o].push(l):t[o]=[l];else(o="Other Courses")in t?t[o].push(l):t[o]=[l]}var g=Object.keys(t).sort();g.indexOf("Other Courses")>-1&&g.splice(g.length,0,g.splice(g.indexOf("Other Courses"),1)[0]);for(var n=0;n<g.length;n++)e.push({type:g[n],courses:t[g[n]]});return e}(a);if(l.length){r+="<h2>Courses</h2>";for(var i=0;i<l.length;i++){r+="<h3>"+l[i].type+"</h3>",r+="<ul>";for(var g=0;g<l[i].courses.length;g++)(o=l[i].courses[g]).gateway=t.gateway+v("course",t.gatewayCatalogId,o["legacy-id"]),r+='<li class="acalog-course">',r+='<a class="acalog-course-link" href="'+o.gateway+'">'+o.title+"</a>",r+='<div class="acalog-course-container">',r+=c(o,t),r+="</div>",r+="</li>";r+="</ul>"}}}else{var n=function(a){for(var e=[],t=0;t<a.length;t++){var o=a[t];!1!==o.status.active&&e.push(o)}return e}(a);if(n.length){r+="<h2>Courses</h2>",r+="<ul>";for(var s=0;s<n.length;s++)(o=n[s]).gateway=t.gateway+v("course",t.gatewayCatalogId,o["legacy-id"]),r+='<li class="acalog-course">',r+='<a class="acalog-course-link" href="'+o.gateway+'">'+o.title+"</a>",r+='<div class="acalog-course-container">',r+=c(o,t),r+="</div>",r+="</li>";r+="</ul>"}}return r}function u(a,t){a.options=e(a.options);var o="";return o+='<h1 class="acalog-entity-name">'+a.name+"</h1>",o+='<div class="acalog-entity-description">'+a.description+"</div>",a.hasOwnProperty("programs")&&a.hasOwnProperty("options")&&a.options.program_display?o+='<div class="acalog-entity-programs">'+d(a.programs,a.options,t)+"</div>":a.hasOwnProperty("options")&&a.options.program_display&&(a.api="/"+a.url.split("/").slice(3).join("/"),o+='<div class="acalog-entity-programs" data-acalog-ajax="'+a.api+'" data-acalog-ajax-type="programs">'+t.placeholder+"</div>"),a.hasOwnProperty("courses")&&a.hasOwnProperty("options")&&a.options.course_display?o+='<div class="acalog-entity-courses">'+y(a.courses,a.options,t)+"</div>":a.hasOwnProperty("options")&&a.options.course_display&&(a.api="/"+a.url.split("/").slice(3).join("/"),o+='<div class="acalog-entity-courses" data-acalog-ajax="'+a.api+'" data-acalog-ajax-type="courses">'+t.placeholder+"</div>"),o+='<a href="#" class="acalog-close">Close</a>'}function m(a,e){var t='<p>Full filter support coming soon. <a href="'+e.gateway+v("filter",e.gatewayCatalogId,a["legacy-id"])+'">Click here</a> to view the filter.</p>',o="";return o+='<h1 class="acalog-filter-name">'+a.name+"</h1>",o+='<div class="acalog-filter-description">'+a.content+"</div>",o+='<div class="acalog-filter-content">'+t+"</div>",o+='<a href="#" class="acalog-close">Close</a>'}function h(a,e){var t="";return t+='<h1 class="acalog-page-name">'+a.name+"</h1>",t+='<div class="acalog-page-description">'+a.content+"</div>",t+='<a href="#" class="acalog-close">Close</a>'}function f(a,e){var t="";return t+='<h1 class="acalog-program-name">'+a.name+"</h1>",t+='<div class="acalog-program-description">'+a.description+"</div>",a.hasOwnProperty("cores")?t+='<div class="acalog-program-cores">'+p(a.cores,2,e)+"</div>":(a.api="/"+a.url.split("/").slice(3).join("/"),t+='<div class="acalog-program-cores" data-acalog-ajax="'+a.api+'" data-acalog-ajax-type="cores">'+e.placeholder+"</div>"),t+='<a href="#" class="acalog-close">Close</a>'}function v(a,e,t){var o="";return"index"===a?o+="/index.php?catoid="+e:"course"===a?o+="/preview_course_nopop.php?catoid="+e+"&coid="+t:"program"===a?o+="/preview_program.php?catoid="+e+"&poid="+t:"entity"===a?o+="/preview_entity.php?catoid="+e+"&ent_oid="+t:"filter"===a?o+="/content.php?catoid="+e+"&navoid="+t:"page"===a?o+="/content.php?catoid="+e+"&navoid="+t:"media"===a?o+="/mime/media/view/"+e+"/"+t+"/":"degree_planner"===a&&(o+="/preview_degree_planner.php?catoid="+e+"&poid="+t+"&print"),o}function w(a,r,n){var w=r.api+"/widget-api"+a.data("acalog-ajax"),I=a.data("acalog-ajax-type");a.removeData("acalog-ajax"),a.removeAttr("data-acalog-ajax"),a.removeData("acalog-ajax-type"),a.removeAttr("data-acalog-ajax-type");var C=o.getWidgetType(a,r);t.get(w,[],C,r,function(t,o){if(t.length)if(t=t[0],"course-body"===I&&t.hasOwnProperty("body"))a.html(t.body);else if("cores"===I&&t.hasOwnProperty("cores")){var w=p(t.cores,2,r);a.html(w)}else if("programs"===I&&t.hasOwnProperty("programs")&&t.hasOwnProperty("options")){t.options=e(t.options);var C=d(t.programs,t.options,r);a.html(C)}else if("courses"===I&&t.hasOwnProperty("courses")&&t.hasOwnProperty("options")){t.options=e(t.options);var k=y(t.courses,t.options,r);a.html(k)}else if("course"===I){var x=c(t,r);a.html(x)}else if("program"===I){var L=s(t,r);a.html(L)}else if("entity"===I){var _=u(t,r);a.html(_)}else if("filter"===I){var T=m(t,r);a.html(T)}else if("page"===I){var j=h(t);a.html(j)}else if("media"===I)a.html("");else if("degree_planner"===I&&t.hasOwnProperty("programs")&&t.hasOwnProperty("options")){t.options=e(t.options);var P=function(a,e,t){var o,r="";if("type"===e.program_grouping){var n=l(a,e);if(n.length){r+="<h2>Programs</h2>";for(var c=0;c<n.length;c++){r+="<h3>"+n[c].type+"</h3>",r+="<ul>";for(var s=0;s<n[c].programs.length;s++)(o=n[c].programs[s]).gateway=t.gateway+v("program",t.gatewayCatalogId,o["legacy-id"]),r+='<li class="acalog-program">',r+='<a class="acalog-program-link" href="'+o.gateway+'">'+o.name+"</a>",r+='<div class="acalog-program-container">',r+=f(o,t),r+="</div>",r+="</li>";r+="</ul>"}}}else if("degree-type"===e.program_grouping){var p=i(a,e);if(p.length){r+="<h2>Programs</h2>";for(var d=0;d<p.length;d++){r+="<h3>"+p[d].type+"</h3>",r+="<ul>";for(var y=0;y<p[d].programs.length;y++)(o=p[d].programs[y]).gateway=t.gateway+v("program",t.gatewayCatalogId,o["legacy-id"]),r+='<li class="acalog-program">',r+='<a class="acalog-program-link" href="'+o.gateway+'">'+o.name+"</a>",r+='<div class="acalog-program-container">',r+=f(o,t),r+="</div>",r+="</li>";r+="</ul>"}}}else{var u=g(a,e);if(u.length){r+="<h2>Programs</h2>",r+="<ul>";for(var m=0;m<u.length;m++)(o=u[m]).gateway=t.gateway+v("program",t.gatewayCatalogId,o["legacy-id"]),r+='<li class="acalog-program">',r+='<a class="acalog-program-link" href="'+o.gateway+'">'+o.name+"</a>",r+='<div class="acalog-program-container">',r+=f(o,t),r+="</div>",r+="</li>";r+="</ul>"}}return r}(t.programs,t.options,r);a.html(P)}else if("degree_planner"===I){var D=f(t,r);a.html(D)}else a.html('<span class="acalog-error">Error</span>');else a.html('<span class="acalog-error">Error</span>');n()})}function I(e,t,o){e.find(".permalink").each(function(){var e="",r=a(this).data();if(r.display=a(this).text(),"hierarchy"===r.to_type?r.to_type="entity":"content"===r.to_type&&-1!==r.to_url.indexOf("page")?r.to_type="page":"content"===r.to_type&&-1!==r.to_url.indexOf("media")?r.to_type="media":"content"===r.to_type&&-1!==r.to_url.indexOf("filter")?r.to_type="filter":"content"===r.to_type&&-1!==r.to_url.indexOf("direct-link")&&(r.to_type="filter"),r.hasOwnProperty("to_url")&&(r.api="/"+r.to_url.split("/").slice(3).join("/")),r.gateway=t.gateway+v(r.to_type,t.gatewayCatalogId,r.to_legacy_id),r.anchor_text.length&&(r.gateway+="#"+r.anchor_text),!0===r.inactive)e+='<div class="acalog-permalink">',e+='<span class="acalog-permalink-inactive">'+r.display+"</span>",e+="</div>";else if(a(this).is("img")){var l="";a(this)[0].hasAttribute("style")&&(l=' style="'+a(this)[0].style.cssText+'"'),e+='<img class="acalog-permalink" src="'+r.gateway+'"'+l+">"}else"inline"===r.display_type&&!0===o?(e+='<div class="acalog-permalink">',e+='<a target="_blank" class="acalog-permalink-link" href="'+r.gateway+'" >'+r.display+"</a>",e+="</div>"):"inline"===r.display_type?(e+='<div class="acalog-permalink acalog-permalink-inline">',e+='<a class="acalog-permalink-link" href="'+r.gateway+'" >'+r.display+"</a>",e+='<div class="acalog-permalink-container'+(r.show_title?"":" acalog-permalink-hidetitle")+'" data-acalog-ajax="'+r.api+'" data-acalog-ajax-type="'+r.to_type+'">'+t.placeholder+"</div>",e+="</div>"):"tooltip"===r.display_type&&null!=r.api?(e+='<div class="acalog-permalink acalog-permalink-tooltip">',e+='<a class="acalog-permalink-link" href="'+r.gateway+'" >'+r.display+"</a>",e+='<div class="acalog-permalink-container" data-acalog-ajax="'+r.api+'"  data-acalog-ajax-type="'+r.to_type+'">'+t.placeholder+"</div>",e+="</div>"):"dynamic"===r.display_type&&null!=r.api?(e+='<div class="acalog-permalink acalog-permalink-showhide">',e+='<a class="acalog-permalink-link" href="'+r.gateway+'" >'+r.display+"</a>",e+='<div class="acalog-permalink-container" data-acalog-ajax="'+r.api+'" data-acalog-ajax-type="'+r.to_type+'">'+t.placeholder+"</div>",e+="</div>"):"same"===r.display_type?(e+='<div class="acalog-permalink">',e+='<a class="acalog-permalink-link" href="'+r.gateway+'" >'+r.display+"</a>",e+="</div>"):"new"===r.display_type?(e+='<div class="acalog-permalink">',e+='<a target="_blank" class="acalog-permalink-link" href="'+r.gateway+'" >'+r.display+"</a>",e+="</div>"):"popup"===r.display_type?(e+='<div class="acalog-permalink">',e+='<a target="_blank" class="acalog-permalink-link" href="'+r.gateway+'" >'+r.display+"</a>",e+="</div>"):(e+='<div class="acalog-permalink">',e+='<span class="acalog-permalink-text">'+r.display+"</span>",e+="</div>");a(this).replaceWith(e)}),e.find(".acalog-permalink-inline").each(function(){var e=a(this),o=a(this).children(".acalog-permalink-container");e.addClass("acalog-permalink-open"),o.attr("data-acalog-ajax")&&w(o,t,function(){I(o,t,!0)})}),"dynamic"===t.display&&(e.on("click",".acalog-permalink-tooltip > .acalog-permalink-link, .acalog-permalink-showhide > .acalog-permalink-link",function(e){e.preventDefault(),e.stopPropagation();var o=a(this).parent(),r=o.children(".acalog-permalink-container");o.toggleClass("acalog-permalink-open"),r.attr("data-acalog-ajax")&&w(r,t,function(){I(r,t,!0)})}),e.on("click",".acalog-permalink .acalog-permalink-container > .acalog-close",function(e){e.preventDefault(),e.stopPropagation(),a(this).parent().parent().toggleClass("acalog-permalink-open")}),e.on("click",".acalog-course > .acalog-course-container > .acalog-close",function(e){e.preventDefault(),e.stopPropagation(),a(this).parent().parent().toggleClass("acalog-course-open")}),e.on("click",".acalog-program > .acalog-program-container > .acalog-close",function(e){e.preventDefault(),e.stopPropagation(),a(this).parent().parent().toggleClass("acalog-program-open")}),e.on("click",".acalog-program-core-course > .acalog-program-core-course-container > .acalog-close",function(e){e.preventDefault(),e.stopPropagation(),a(this).parent().parent().toggleClass("acalog-program-core-course-open")}),e.on("click",".acalog-entity > .acalog-entity-container > .acalog-close",function(e){e.preventDefault(),e.stopPropagation(),a(this).parent().parent().toggleClass("acalog-entity-open")}),e.on("click",".acalog-filter > .acalog-filter-container > .acalog-close",function(e){e.preventDefault(),e.stopPropagation(),a(this).parent().parent().toggleClass("acalog-filter-open")}),e.on("click",".acalog-page > .acalog-page-container > .acalog-close",function(e){e.preventDefault(),e.stopPropagation(),a(this).parent().parent().toggleClass("acalog-page-open")}))}return{CatalogContentWidget:function(){this.widgetize=function(a,e,o){0===e.length&&t.reportError(o.api,"catalog-content",a.prop("outerHTML"));var r=function(a,e){var t="";return a.length?t+=n(a[0]):t+='<a href="'+e.gateway+'">'+e.gateway+"</a>",t}(e,o);a.html(r)}},CatalogListWidget:function(){this.widgetize=function(a,e,o){0===e.length&&t.reportError(o.api,"catalog-list",a.prop("outerHTML"));var r=function(a,e){var t="";if(a.length)for(var o=0;o<a.length;o++){var r=a[o];r.gateway=e.gateway+v("index",r["legacy-id"],r["legacy-id"]),t+='<li class="acalog-catalog">',t+='<a class="acalog-catalog-link" href="'+r.gateway+'">'+r.name+"</a>",t+='<div class="acalog-catalog-container">',t+=n(r),t+="</div>",t+="</li>"}else t+='<li class="acalog-catalog">None</li>';return t}(e,o);a.html(r)}},CatalogLinkWidget:function(){this.widgetize=function(a,e,o){var r=o.gateway,l=o.gateway;if(e.length){var i=e[0]["legacy-id"];r+=v("index",i,i),l=e[0].name}else t.reportError(o.api,"catalog-link",a.prop("outerHTML"));o.linkText&&(l=o.linkText),a.prop("href",r),a.text(l)}},CourseContentWidget:function(){this.widgetize=function(a,e,o){0===e.length&&t.reportError(o.api,"course-content",a.prop("outerHTML"));var r=function(a,e){var t="";if(a.length)t+=c(a[0],e);else{var o=e.gateway,r=e.gateway;null!==e.gatewayCatalogId&&(o+=v("index",e.gatewayCatalogId,e.gatewayCatalogId),r+=v("index",e.gatewayCatalogId,e.gatewayCatalogId)),t+='<a href="'+o+'">'+r+"</a>"}return t}(e,o);a.html(r),I(a,o,!1)}},CourseListWidget:function(){this.widgetize=function(e,o,r){0===o.length&&t.reportError(r.api,"course-list",e.prop("outerHTML"));var l=function(a,e){var t="";if(a.length)for(var o=0;o<a.length;o++){var r=a[o];r.gateway=e.gateway+v("course",e.gatewayCatalogId,r["legacy-id"]),t+='<li class="acalog-course">',t+='<a class="acalog-course-link" href="'+r.gateway+'">'+r.title+"</a>",r.url?(r.api="/"+r.url.split("/").slice(3).join("/"),t+='<div class="acalog-course-container" data-acalog-ajax="'+r.api+'" data-acalog-ajax-type="course">',t+=e.placeholder,t+="</div>"):(t+='<div class="acalog-course-container">',t+=c(r,e),t+="</div>"),t+="</li>"}else t+='<li class="acalog-course">None</li>';return t}(o,r);e.html(l),I(e,r,!1),"dynamic"===r.display&&e.on("click",".acalog-course-link",function(e){e.preventDefault(),a(this).parent().toggleClass("acalog-course-open");var t=a(this).next("div.acalog-course-container");t.data("acalog-ajax")&&w(t,r,function(){I(t,r,!1)})})}},CourseLinkWidget:function(){this.widgetize=function(a,e,o){var r=o.gateway,l=o.gateway;if(e.length){var i=e[0]["legacy-id"];r+=v("course",o.gatewayCatalogId,i),l=e[0].title}else t.reportError(o.api,"course-link",a.prop("outerHTML")),null!==o.gatewayCatalogId&&(r+=v("index",o.gatewayCatalogId,o.gatewayCatalogId),l+=v("index",o.gatewayCatalogId,o.gatewayCatalogId));o.linkText&&(l=o.linkText),a.prop("href",r),a.text(l)}},ProgramContentWidget:function(){this.widgetize=function(e,o,r){0===o.length&&t.reportError(r.api,"program-content",e.prop("outerHTML"));var l=function(a,e){var t="";if(a.length)t+=s(a[0],e);else{var o=e.gateway,r=e.gateway;null!==e.gatewayCatalogId&&(o+=v("index",e.gatewayCatalogId,e.gatewayCatalogId),r+=v("index",e.gatewayCatalogId,e.gatewayCatalogId)),t+='<a href="'+o+'">'+r+"</a>"}return t}(o,r);e.html(l),I(e,r,!1);var i=e.children(".acalog-program-cores");i.attr("data-acalog-ajax")&&w(i,r,function(){I(i,r,!1)}),"dynamic"===r.display&&e.on("click",".acalog-program-core-course-link",function(e){e.preventDefault(),a(this).parent().toggleClass("acalog-program-core-course-open");var t=a(this).siblings(".acalog-program-core-course-container:first").children(".acalog-program-core-course-body");t.attr("data-acalog-ajax")&&w(t,r,function(){I(t,r,!1)})})}},ProgramListWidget:function(){this.widgetize=function(e,o,r){0===o.length&&t.reportError(r.api,"program-list",e.prop("outerHTML"));var l=function(a,e){var t="";if(a.length)for(var o=0;o<a.length;o++){var r=a[o];r.gateway=e.gateway+v("program",e.gatewayCatalogId,r["legacy-id"]),t+='<li class="acalog-program">',t+='<a class="acalog-program-link" href="'+r.gateway+'">'+r.name+"</a>",r.url?(r.api="/"+r.url.split("/").slice(3).join("/"),t+='<div class="acalog-program-container" data-acalog-ajax="'+r.api+'" data-acalog-ajax-type="program">',t+=e.placeholder,t+="</div>"):(t+='<div class="acalog-program-container">',t+=s(r,e),t+="</div>"),t+="</li>"}else t+='<li class="acalog-program">None</li>';return t}(o,r);e.html(l),I(e,r,!1),"dynamic"===r.display&&(e.on("click",".acalog-program-link",function(e){e.preventDefault(),a(this).parent().toggleClass("acalog-program-open");var t=a(this).next("div.acalog-program-container");t.data("acalog-ajax")&&w(t,r,function(){I(t,r,!1)})}),e.on("click",".acalog-program-core-course-link",function(e){e.preventDefault(),a(this).parent().toggleClass("acalog-program-core-course-open");var t=a(this).next(".acalog-program-core-course-container").children(".acalog-program-core-course-body");t.attr("data-acalog-ajax")&&w(t,r,function(){I(t,r,!1)})}))}},ProgramLinkWidget:function(){this.widgetize=function(a,e,o){var r=o.gateway,l=o.gateway;if(e.length){var i=e[0]["legacy-id"];r+=v("program",o.gatewayCatalogId,i),l=e[0].name}else t.reportError(o.api,"program-link",a.prop("outerHTML")),null!==o.gatewayCatalogId&&(r+=v("index",o.gatewayCatalogId,o.gatewayCatalogId),l+=v("index",o.gatewayCatalogId,o.gatewayCatalogId));o.linkText&&(l=o.linkText),a.prop("href",r),a.text(l)}},EntityContentWidget:function(){this.widgetize=function(e,o,r){0===o.length&&t.reportError(r.api,"entity-content",e.prop("outerHTML"));var l=function(a,e){var t="";if(a.length)t+=u(a[0],e);else{var o=e.gateway,r=e.gateway;null!==e.gatewayCatalogId&&(o+=v("index",e.gatewayCatalogId,e.gatewayCatalogId),r+=v("index",e.gatewayCatalogId,e.gatewayCatalogId)),t+='<a href="'+o+'">'+r+"</a>"}return t}(o,r);e.html(l),I(e,r,!1);var i=e.children(".acalog-entity-programs");i.attr("data-acalog-ajax")&&w(i,r,function(){I(i,r,!1)});var g=e.children(".acalog-entity-courses");g.attr("data-acalog-ajax")&&w(g,r,function(){I(g,r,!1)}),"dynamic"===r.display&&(e.on("click",".acalog-course-link",function(e){e.preventDefault(),a(this).parent().toggleClass("acalog-course-open");var t=a(this).next(".acalog-course-container").children(".acalog-course-body");t.attr("data-acalog-ajax")&&w(t,r,function(){I(t,r,!1)})}),e.on("click",".acalog-program-link",function(e){e.preventDefault(),a(this).parent().toggleClass("acalog-program-open");var t=a(this).next(".acalog-program-container");t.attr("data-acalog-ajax")&&w(t,r,function(){I(t,r,!1)});var o=a(this).next(".acalog-program-container").children(".acalog-program-cores");o.attr("data-acalog-ajax")&&w(o,r,function(){I(o,r,!1)})}),e.on("click",".acalog-program-core-course-link",function(e){e.preventDefault(),a(this).parent().toggleClass("acalog-program-core-course-open");var t=a(this).next(".acalog-program-core-course-container").children(".acalog-program-core-course-body");t.attr("data-acalog-ajax")&&w(t,r,function(){I(t,r,!1)})}))}},EntityListWidget:function(){this.widgetize=function(e,o,r){0===o.length&&t.reportError(r.api,"entity-list",e.prop("outerHTML"));var l=function(a,e){var t="";if(a.length)for(var o=0;o<a.length;o++){var r=a[o];r.gateway=e.gateway+v("entity",e.gatewayCatalogId,r["legacy-id"]),t+='<li class="acalog-entity">',t+='<a class="acalog-entity-link" href="'+r.gateway+'">'+r.name+"</a>",r.url?(r.api="/"+r.url.split("/").slice(3).join("/"),t+='<div class="acalog-entity-container" data-acalog-ajax="'+r.api+'" data-acalog-ajax-type="entity">',t+=e.placeholder,t+="</div>"):(t+='<div class="acalog-entity-container">',t+=u(r,e),t+="</div>"),t+="</li>"}else t+='<li class="acalog-page">None</li>';return t}(o,r);e.html(l),I(e,r,!1),"dynamic"===r.display&&(e.on("click",".acalog-entity-link",function(e){e.preventDefault(),a(this).parent().toggleClass("acalog-entity-open");var t=a(this).next("div.acalog-entity-container");t.data("acalog-ajax")&&w(t,r,function(){I(t,r,!1)});var o=a(this).next(".acalog-entity-container").children(".acalog-entity-programs");o.attr("data-acalog-ajax")&&w(o,r,function(){I(o,r,!1)});var l=a(this).next(".acalog-entity-container").children(".acalog-entity-courses");l.attr("data-acalog-ajax")&&w(l,r,function(){I(l,r,!1)})}),e.on("click",".acalog-course-link",function(e){e.preventDefault(),a(this).parent().toggleClass("acalog-course-open");var t=a(this).next(".acalog-course-container").children(".acalog-course-body");t.attr("data-acalog-ajax")&&w(t,r,function(){I(t,r,!1)})}),e.on("click",".acalog-program-link",function(e){e.preventDefault(),a(this).parent().toggleClass("acalog-program-open");var t=a(this).next(".acalog-program-container");t.attr("data-acalog-ajax")&&w(t,r,function(){I(t,r,!1)});var o=a(this).next(".acalog-program-container").children(".acalog-program-cores");o.attr("data-acalog-ajax")&&w(o,r,function(){I(o,r,!1)})}),e.on("click",".acalog-program-core-course-link",function(e){e.preventDefault(),a(this).parent().toggleClass("acalog-program-core-course-open");var t=a(this).next(".acalog-program-core-course-container").children(".acalog-program-core-course-body");t.attr("data-acalog-ajax")&&w(t,r,function(){I(t,r,!1)})}))}},EntityLinkWidget:function(){this.widgetize=function(a,e,o){var r=o.gateway,l=o.gateway;if(e.length){var i=e[0]["legacy-id"];r+=v("entity",o.gatewayCatalogId,i),l=e[0].name}else t.reportError(o.api,"entity-link",a.prop("outerHTML")),null!==o.gatewayCatalogId&&(r+=v("index",o.gatewayCatalogId,o.gatewayCatalogId),l+=v("index",o.gatewayCatalogId,o.gatewayCatalogId));o.linkText&&(l=o.linkText),a.prop("href",r),a.text(l)}},FilterContentWidget:function(){this.widgetize=function(a,e,o){0===e.length&&t.reportError(o.api,"filter-content",a.prop("outerHTML"));var r=function(a,e){var t="";if(a.length)t+=m(a[0],e);else{var o=e.gateway,r=e.gateway;null!==e.gatewayCatalogId&&(o+=v("index",e.gatewayCatalogId,e.gatewayCatalogId),r+=v("index",e.gatewayCatalogId,e.gatewayCatalogId)),t+='<a href="'+o+'">'+r+"</a>"}return t}(e,o);a.html(r),I(a,o,!1)}},FilterListWidget:function(){this.widgetize=function(e,o,r){0===o.length&&t.reportError(r.api,"filter-list",e.prop("outerHTML"));var l=function(a,e){var t="";if(a.length)for(var o=0;o<a.length;o++){var r=a[o];r.gateway=e.gateway+v("filter",e.gatewayCatalogId,r["legacy-id"]),t+='<li class="acalog-filter">',t+='<a class="acalog-filter-link" href="'+r.gateway+'">'+r.name+"</a>",r.url?(r.api="/"+r.url.split("/").slice(3).join("/"),t+='<div class="acalog-filter-container" data-acalog-ajax="'+r.api+'" data-acalog-ajax-type="filter">',t+=e.placeholder,t+="</div>"):(t+='<div class="acalog-filter-container">',t+=m(r,e),t+="</div>"),t+="</li>"}else t+='<li class="acalog-page">None</li>';return t}(o,r);e.html(l),I(e,r,!1),"dynamic"===r.display&&e.on("click",".acalog-filter-link",function(e){e.preventDefault(),a(this).parent().toggleClass("acalog-filter-open");var t=a(this).next("div.acalog-filter-container");t.data("acalog-ajax")&&w(t,r,function(){I(t,r,!1)})})}},FilterLinkWidget:function(){this.widgetize=function(a,e,o){var r=o.gateway,l=o.gateway;if(e.length){var i=e[0]["legacy-id"];r+=v("filter",o.gatewayCatalogId,i),l=e[0].name}else t.reportError(o.api,"filter-link",a.prop("outerHTML")),null!==o.gatewayCatalogId&&(r+=v("index",o.gatewayCatalogId,o.gatewayCatalogId),l+=v("index",o.gatewayCatalogId,o.gatewayCatalogId));o.linkText&&(l=o.linkText),a.prop("href",r),a.text(l)}},PageContentWidget:function(){this.widgetize=function(a,e,o){0===e.length&&t.reportError(o.api,"page-content",a.prop("outerHTML"));var r=function(a,e){var t="";if(a.length)t+=h(a[0]);else{var o=e.gateway,r=e.gateway;null!==e.gatewayCatalogId&&(o+=v("index",e.gatewayCatalogId,e.gatewayCatalogId),r+=v("index",e.gatewayCatalogId,e.gatewayCatalogId)),t+='<a href="'+o+'">'+r+"</a>"}return t}(e,o);a.html(r),I(a,o,!1)}},PageListWidget:function(){this.widgetize=function(e,o,r){0===o.length&&t.reportError(r.api,"page-list",e.prop("outerHTML"));var l=function(a,e){var t="";if(a.length)for(var o=0;o<a.length;o++){var r=a[o];r.gateway=e.gateway+v("page",e.gatewayCatalogId,r["legacy-id"]),t+='<li class="acalog-page">',t+='<a class="acalog-page-link" href="'+r.gateway+'">'+r.name+"</a>",r.url?(r.api="/"+r.url.split("/").slice(3).join("/"),t+='<div class="acalog-page-container" data-acalog-ajax="'+r.api+'" data-acalog-ajax-type="page">',t+=e.placeholder,t+="</div>"):(t+='<div class="acalog-page-container">',t+=h(r),t+="</div>"),t+="</li>"}else t+='<li class="acalog-page">None</li>';return t}(o,r);e.html(l),I(e,r,!1),"dynamic"===r.display&&e.on("click",".acalog-page-link",function(e){e.preventDefault(),a(this).parent().toggleClass("acalog-page-open");var t=a(this).next("div.acalog-page-container");t.data("acalog-ajax")&&w(t,r,function(){I(t,r,!1)})})}},PageLinkWidget:function(){this.widgetize=function(a,e,o){var r=o.gateway,l=o.gateway;if(e.length){var i=e[0]["legacy-id"];r+=v("page",o.gatewayCatalogId,i),l=e[0].name}else t.reportError(o.api,"page-link",a.prop("outerHTML")),null!==o.gatewayCatalogId&&(r+=v("index",o.gatewayCatalogId,o.gatewayCatalogId),l+=v("index",o.gatewayCatalogId,o.gatewayCatalogId));o.linkText&&(l=o.linkText),a.prop("href",r),a.text(l)}},DegreePlannerContentWidget:function(){this.widgetize=function(e,o,r){0===o.length&&t.reportError(r.api,"degree-planner-content",e.prop("outerHTML"));var l=function(a,e){var t="";if(a.length)t+=f(a[0],e);else{var o=e.gateway,r=e.gateway;null!==e.gatewayCatalogId&&(o+=v("index",e.gatewayCatalogId,e.gatewayCatalogId),r+=v("index",e.gatewayCatalogId,e.gatewayCatalogId)),t+='<a href="'+o+'">'+r+"</a>"}return t}(o,r);e.html(l),I(e,r,!1);var i=e.children(".acalog-program-cores");i.attr("data-acalog-ajax")&&w(i,r,function(){I(i,r,!1)}),"dynamic"===r.display&&e.on("click",".acalog-program-core-course-link",function(e){e.preventDefault(),a(this).parent().toggleClass("acalog-program-core-course-open");var t=a(this).next(".acalog-program-core-course-container").children(".acalog-program-core-course-body");t.attr("data-acalog-ajax")&&w(t,r,function(){I(t,r,!1)})})}},DegreePlannerListWidget:function(){this.widgetize=function(e,o,r){0===o.length&&t.reportError(r.api,"degree-planner-list",e.prop("outerHTML"));var l=function(a,e){var t="";if(a.length)for(var o=0;o<a.length;o++){var r=a[o];r.gateway=e.gateway+v("degree_planner",e.gatewayCatalogId,r["legacy-id"]),t+='<li class="acalog-program">',t+='<a class="acalog-program-link" href="'+r.gateway+'">'+r.name+"</a>",t+='<div class="acalog-program-container">',t+=f(r,e),t+="</div>",t+="</li>"}else t+='<li class="acalog-program">None</li>';return t}(o,r);e.html(l),I(e,r,!1),"dynamic"===r.display&&(e.on("click",".acalog-program-link",function(e){e.preventDefault(),a(this).parent().toggleClass("acalog-program-open");var t=a(this).next(".acalog-program-container").children(".acalog-program-cores");t.attr("data-acalog-ajax")&&w(t,r,function(){I(t,r,!1)})}),e.on("click",".acalog-program-core-course-link",function(e){e.preventDefault(),a(this).parent().toggleClass("acalog-program-core-course-open");var t=a(this).next(".acalog-program-core-course-container").children(".acalog-program-core-course-body");t.attr("data-acalog-ajax")&&w(t,r,function(){I(t,r,!1)})}))}},DegreePlannerLinkWidget:function(){this.widgetize=function(a,e,o){var r=o.gateway,l=o.gateway;if(e.length){var i=e[0]["legacy-id"];r+=v("degree_planner",o.gatewayCatalogId,i),l=e[0].name}else t.reportError(o.api,"degree-planner-link",a.prop("outerHTML")),null!==o.gatewayCatalogId&&(r+=v("index",o.gatewayCatalogId,o.gatewayCatalogId),l+=v("index",o.gatewayCatalogId,o.gatewayCatalogId));o.linkText&&(l=o.linkText),a.prop("href",r),a.text(l)}},UnknownContentWidget:function(){this.widgetize=function(a,e,o){t.reportError(o.api,"unknown-content",a.prop("outerHTML")),a.html('<span class="acalog-error">Error</span>')}},UnknownListWidget:function(){this.widgetize=function(a,e,o){t.reportError(o.api,"unknown-list",a.prop("outerHTML")),a.html('<li><span class="acalog-error">Error</span></li>')}},UnknownLinkWidget:function(){this.widgetize=function(a,e,o){t.reportError(o.api,"unknown-link",a.prop("outerHTML")),a.text("Error")}}}}(),t=function(){var e={"course-content":"courseId","program-content":"programId","entity-content":"entityId","filter-content":"filterId","page-content":"pageId","degree-planner-content":"programId"};return{encodeData:function(a){return encodeURIComponent(a).replace(/\-/g,"%2D").replace(/\_/g,"%5F").replace(/\./g,"%2E").replace(/\!/g,"%21").replace(/\~/g,"%7E").replace(/\*/g,"%2A").replace(/\'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29")},get:function t(r,l,i,g,n){a.ajax({url:r}).done(function(c){var s,p,d,y;if(void 0!==c.count&&Object.keys(c).forEach(function(a){a.indexOf("-list")>-1&&(c.list=c[a],delete c[a])}),void 0!==c.count&&void 0!==c.list)if(l=l.concat(c.list),c.count>l.length&&i.indexOf("list")>=0)t((p=(s=r).match(/&page=(\d+)/),d=p[0],y="&page="+(parseInt(p[1])+1),s.replace(d,y)),l,i,g,n);else if(l.length>0&&i.indexOf("content")>=0&&r.indexOf("page-size")>=0){var u=a.extend(!0,{},g);u[e[i]]=l[0].id,t(o.getEndpoint(u),[],i,u,n)}else n(l,i);else l.push(c),n(l,i)}).fail(function(){n([],i)})},fauxFilterData:function(a,e){if(0===a.length)return a;if("catalogs"===e.data){for(var t=0;t<a.length;t++){var o=a[t];e.catalogId&&o.id!==e.catalogId&&delete a[t],e.gatewayCatalogId&&o["legacy-id"]!==e.gatewayCatalogId&&delete a[t]}a=a.filter(function(a){return a})}return a},reportError:function(e,t,o){var r={error:t,widget:o,location:window.location.href};a.post(e+"/widget-api/error/",r)}}}(),o=function(){return{getEndpoint:function(a){var e=a.api+"/widget-api";return"catalogs"===a.data?(e+="/catalogs/?page-size=100&page=1",a.catalogLegacyId&&(e+="&legacy-id="+t.encodeData(a.catalogLegacyId)),a.catalogType&&(e+="&type="+t.encodeData(a.catalogType)),a.catalogName&&(e+="&name="+t.encodeData(a.catalogName))):"courses"===a.data&&a.courseId?e+="/catalog/"+a.catalogId+"/course/"+a.courseId+"/":"courses"===a.data?(e+="/catalog/"+a.catalogId+"/courses/?page-size=100&page=1",a.courseLegacyId&&(e+="&legacy-id="+t.encodeData(a.courseLegacyId)),a.courseType&&(e+="&type="+t.encodeData(a.courseType)),a.coursePrefix&&(e+="&prefix="+t.encodeData(a.coursePrefix)),a.courseCode&&(e+="&code="+t.encodeData(a.courseCode)),a.courseName&&(e+="&name="+t.encodeData(a.courseName))):"programs"===a.data&&a.programId?e+="/catalog/"+a.catalogId+"/program/"+a.programId+"/":"programs"===a.data?(e+="/catalog/"+a.catalogId+"/programs/?page-size=100&page=1",a.programLegacyId&&(e+="&legacy-id="+t.encodeData(a.programLegacyId)),a.programType&&(e+="&type="+t.encodeData(a.programType)),a.programDegreeType&&(e+="&degree-type="+t.encodeData(a.programDegreeType)),a.programCode&&(e+="&code="+t.encodeData(a.programCode)),a.programName&&(e+="&name="+t.encodeData(a.programName))):"entities"===a.data&&a.entityId?e+="/catalog/"+a.catalogId+"/hierarchy/"+a.entityId+"/":"entities"===a.data?(e+="/catalog/"+a.catalogId+"/hierarchies/?page-size=100&page=1",a.entityLegacyId&&(e+="&legacy-id="+t.encodeData(a.entityLegacyId)),a.entityType&&(e+="&type="+t.encodeData(a.entityType)),a.entityName&&(e+="&name="+t.encodeData(a.entityName))):"filters"===a.data&&a.filterId?e+="/catalog/"+a.catalogId+"/filter/"+a.filterId+"/":"filters"===a.data?(e+="/catalog/"+a.catalogId+"/filters/?page-size=100&page=1",a.filterLegacyId&&(e+="&legacy-id="+t.encodeData(a.filterLegacyId)),a.filterName&&(e+="&name="+t.encodeData(a.filterName))):"pages"===a.data&&a.pageId?e+="/catalog/"+a.catalogId+"/page/"+a.pageId+"/":"pages"===a.data?(e+="/catalog/"+a.catalogId+"/pages/?page-size=100&page=1",a.pageLegacyId&&(e+="&legacy-id="+t.encodeData(a.pageLegacyId)),a.pageName&&(e+="&name="+t.encodeData(a.pageName))):"degree_planner"===a.data&&a.programId?e+="/catalog/"+a.catalogId+"/program/"+a.programId+"/":"degree_planner"===a.data&&(e+="/catalog/"+a.catalogId+"/programs/?page-size=100&page=1",a.programLegacyId&&(e+="&legacy-id="+t.encodeData(a.programLegacyId)),a.programType&&(e+="&type="+t.encodeData(a.programType)),a.programDegreeType&&(e+="&degree-type="+t.encodeData(a.programDegreeType)),a.programCode&&(e+="&code="+t.encodeData(a.programCode)),a.programName&&(e+="&name="+t.encodeData(a.programName))),e},getWidgetType:function(a,e){return a.is("a")?"catalogs"===e.data?"catalog-link":"courses"===e.data?"course-link":"programs"===e.data?"program-link":"entities"===e.data?"entity-link":"filters"===e.data?"filter-link":"pages"===e.data?"page-link":"degree_planner"===e.data?"degree-planner-link":"unknown-link":a.is("ul")?"catalogs"===e.data?"catalog-list":"courses"===e.data?"course-list":"programs"===e.data?"program-list":"entities"===e.data?"entity-list":"filters"===e.data?"filter-list":"pages"===e.data?"page-list":"degree_planner"===e.data?"degree-planner-list":"unknown-list":"catalogs"===e.data?"catalog-content":"courses"===e.data?"course-content":"programs"===e.data?"program-content":"entities"===e.data?"entity-content":"filters"===e.data?"filter-content":"pages"===e.data?"page-content":"degree_planner"===e.data?"degree-planner-content":"unknown-content"}}}();return function(r,l,i){var g=this;(l=void 0!==l?l:{}).api=void 0!==l.api?l.api:null,l.gateway=void 0!==l.gateway?l.gateway:null,l.api=null!==l.api?l.api:l.gateway;var n=[],c={"catalog-content":e.CatalogContentWidget,"catalog-list":e.CatalogListWidget,"catalog-link":e.CatalogLinkWidget,"course-content":e.CourseContentWidget,"course-list":e.CourseListWidget,"course-link":e.CourseLinkWidget,"program-content":e.ProgramContentWidget,"program-list":e.ProgramListWidget,"program-link":e.ProgramLinkWidget,"entity-content":e.EntityContentWidget,"entity-list":e.EntityListWidget,"entity-link":e.EntityLinkWidget,"filter-content":e.FilterContentWidget,"filter-list":e.FilterListWidget,"filter-link":e.FilterLinkWidget,"page-content":e.PageContentWidget,"page-list":e.PageListWidget,"page-link":e.PageLinkWidget,"degree-planner-content":e.DegreePlannerContentWidget,"degree-planner-list":e.DegreePlannerListWidget,"degree-planner-link":e.DegreePlannerLinkWidget,"unknown-content":e.UnknownContentWidget,"unknown-list":e.UnknownListWidget,"unknown-link":e.UnknownLinkWidget};this.widgetize=function(e){var r=function(e,t){var o=a.extend({},e,t);return o.catalogLegacyId&&"catalogs"!==o.data&&(o.catalogId=function(a,e){for(var t=null,o=0;o<a.length;o++){var r=a[o];r["legacy-id"]===e&&(t=r.id)}return t}(n,o.catalogLegacyId),delete o.catalogLegacyId),o.catalogType&&"catalogs"!==o.data&&(o.catalogId=function(a,e){for(var t=null,o=0;o<a.length;o++){var r=a[o];!1===r.archived&&r["catalog-type"].name===e&&(t=r.id)}return t}(n,o.catalogType),delete o.catalogType),o.catalogName&&"catalogs"!==o.data&&(o.catalogId=function(a,e){for(var t=null,o=0;o<a.length;o++){var r=a[o];r.name===e&&(t=r.id)}return t}(n,o.catalogName),delete o.catalogName),void 0===o.catalogId&&(o.catalogId=null),o.gatewayCatalogId=function(a,e){for(var t=null,o=0;o<a.length;o++){var r=a[o];r.id===e&&(t=r["legacy-id"])}return t}(n,o.catalogId),o}(function(){var a={};return l.api&&(a.api=l.api),l.gateway&&(a.gateway=l.gateway),l.data&&(a.data=l.data),l.catalogId&&(a.catalogId=l.catalogId),l.gatewayCatalogId&&(a.catalogLegacyId=l.gatewayCatalogId),l.catalogType&&(a.catalogType=l.catalogType),l.catalogName&&(a.catalogName=l.catalogName),l.courseId&&(a.courseId=l.courseId),l.courseLegacyId&&(a.courseLegacyId=l.courseLegacyId),l.courseType&&(a.courseType=l.courseType),l.coursePrefix&&(a.coursePrefix=l.coursePrefix),l.courseCode&&(a.courseCode=l.courseCode),l.courseName&&(a.courseName=l.courseName),l.programId&&(a.programId=l.programId),l.programLegacyId&&(a.programLegacyId=l.programLegacyId),l.programType&&(a.programType=l.programType),l.programDegreeType&&(a.programDegreeType=l.programDegreeType),l.programCode&&(a.programCode=l.programCode),l.programName&&(a.programName=l.programName),l.entityId&&(a.entityId=l.entityId),l.entityLegacyId&&(a.entityLegacyId=l.entityLegacyId),l.entityType&&(a.entityType=l.entityType),l.entityName&&(a.entityName=l.entityName),l.filterId&&(a.filterId=l.filterId),l.filterLegacyId&&(a.filterLegacyId=l.filterLegacyId),l.filterName&&(a.filterName=l.filterName),l.pageId&&(a.pageId=l.pageId),l.pageLegacyId&&(a.pageLegacyId=l.pageLegacyId),l.pageName&&(a.pageName=l.pageName),l.display&&(a.display=l.display),l.linkText&&(a.linkText=l.linkText),a}(),function(a){var e={},t=a.data();return t.acalogData&&(e.data=t.acalogData),t.acalogCatalogId&&(e.catalogId=t.acalogCatalogId),t.acalogCatalogLegacyId&&(e.catalogLegacyId=t.acalogCatalogLegacyId),t.acalogCatalogType&&(e.catalogType=t.acalogCatalogType),t.acalogCatalogName&&(e.catalogName=t.acalogCatalogName),t.acalogCourseId&&(e.courseId=t.acalogCourseId),t.acalogCourseLegacyId&&(e.courseLegacyId=t.acalogCourseLegacyId),t.acalogCourseType&&(e.courseType=t.acalogCourseType),t.acalogCoursePrefix&&(e.coursePrefix=t.acalogCoursePrefix),t.acalogCourseCode&&(e.courseCode=t.acalogCourseCode),t.acalogCourseName&&(e.courseName=t.acalogCourseName),t.acalogProgramId&&(e.programId=t.acalogProgramId),t.acalogProgramLegacyId&&(e.programLegacyId=t.acalogProgramLegacyId),t.acalogProgramType&&(e.programType=t.acalogProgramType),t.acalogProgramDegreeType&&(e.programDegreeType=t.acalogProgramDegreeType),t.acalogProgramCode&&(e.programCode=t.acalogProgramCode),t.acalogProgramName&&(e.programName=t.acalogProgramName),t.acalogEntityId&&(e.entityId=t.acalogEntityId),t.acalogEntityLegacyId&&(e.entityLegacyId=t.acalogEntityLegacyId),t.acalogEntityType&&(e.entityType=t.acalogEntityType),t.acalogEntityName&&(e.entityName=t.acalogEntityName),t.acalogFilterId&&(e.filterId=t.acalogFilterId),t.acalogFilterLegacyId&&(e.filterLegacyId=t.acalogFilterLegacyId),t.acalogFilterName&&(e.filterName=t.acalogFilterName),t.acalogPageId&&(e.pageId=t.acalogPageId),t.acalogPageLegacyId&&(e.pageLegacyId=t.acalogPageLegacyId),t.acalogPageName&&(e.pageName=t.acalogPageName),t.acalogDisplay&&(e.display=t.acalogDisplay),a.is("ul")?e.placeholder=a.children("li").html():e.placeholder=a.html(),t.acalogLinkText&&(e.linkText=t.acalogLinkText),e}(e)),i=o.getEndpoint(r),g=o.getWidgetType(e,r);t.get(i,[],g,r,function(a,o){a=t.fauxFilterData(a,r),(new c[o]).widgetize(e,a,r)})},r.length>0&&t.get(l.api+"/widget-api/catalogs/",[],"list",l,function(a,e){n=null!==a?a:[],i(g)})}}(jQuery);
;
